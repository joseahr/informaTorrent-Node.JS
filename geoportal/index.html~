<!DOCTYPE>
<html>
<head>
<meta charset="utf-8">

<!-- Para dispositivos móviles -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<!-- Bootstrap CSS -->
<link href="/stylesheets/bootstrap/css/bootstrap.css" rel="stylesheet">

<!-- Font Awesome Iconos -->
<link rel="stylesheet" href="/stylesheets/font-awesome/css/font-awesome.css">

<!-- Fuentes -->
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700,300&amp;subset=latin,latin-ext' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Raleway:700,400,300' rel='stylesheet' type='text/css'>

<!-- CSS Principal -->
<link rel="stylesheet" href="/stylesheets/style.css">

<!-- CSS Animaciones -->
<link rel="stylesheet" href="/stylesheets/animations.css">

<!-- Highlight CSS -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/default.min.css">

</head>

<body class="no-trans">

	
	<!-- header start -->
	<!-- ================ --> 
	<header class="header fixed clearfix navbar navbar-fixed-top">
		<div class="container">
			<div class="row">
				<div class="col-md-4">
	
					<!-- header-left start -->
					<!-- ================ -->
					<div class="header-left clearfix">
	
						<!-- logo -->
						<div class="logo smooth-scroll">
							<a href="#banner">
								<span class="fa-stack fa-lg">
								  <i class="fa fa-circle fa-stack-2x"></i>
								  <i class="fa fa-location-arrow fa-stack-1x fa-inverse"></i>
								</span>
							</a>
						</div> 
	
						<!-- name-and-slogan -->
						<div class="site-name-and-slogan smooth-scroll">
							<div class="site-name"><a href="/">Geoportal de Torrent</a></div>
							<div class="site-slogan">Tu portal de información Geográfica</div>
						</div>
	
					</div>
					<!-- header-left end -->
	
				</div>
				<div class="col-md-8">
	
					<!-- header-right start -->
					<!-- ================ -->
					<div class="header-right clearfix">
	
						<!-- main-navigation start -->
						<!-- ================ -->
						<div class="main-navigation animated">
	
							<!-- navbar start -->
							<!-- ================ -->
							<nav class="navbar navbar-default" role="navigation">
								<div class="container-fluid">
	
									<!-- Toggle get grouped for better mobile display -->
									<div class="navbar-header">
										<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
											<span class="sr-only">Abrir Menú</span>
											<span class="icon-bar"></span>
											<span class="icon-bar"></span>
											<span class="icon-bar"></span>
										</button>
									</div>
	
									<!-- Collect the nav links, forms, and other content for toggling -->
									<div class="collapse navbar-collapse scrollspy smooth-scroll" id="navbar-collapse-1">
										<ul class="nav navbar-nav navbar-right">
											<li class="active"><a href="#banner">Inicio</a></li>
											<li class=""><a href="#servicios">Servicios</a></li>
											<li><a href="/visor">Visor</a></li>
											<li><a href="#descargas">Descargas</a></li>
											<li><a href="#buscador">Buscador</a></li>
										</ul>
									</div>
	
								</div>
							</nav>
							<!-- navbar end -->
	
						</div>
						<!-- main-navigation end -->
	
					</div>
					<!-- header-right end -->
	
				</div>
			</div>
		</div>
	</header>
	<!-- header end -->
	
	<!-- banner start -->
		<!-- ================ -->
		<div id="banner" class="banner" style="background: url('https://images.unsplash.com/photo-1445964047600-cdbdb873673d?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&w=1800&fit=max&s=e590407728cc89ef57f248ebec481dd5'); background-size: cover; background-position: center center; background-repeat: no-repeat">
			<div class="banner-image"></div>
			<div class="banner-caption">
				<div class="container">
					<div class="row">
						<div class="col-md-8 col-md-offset-2 object-non-visible" data-animation-effect="rollIn">
							<h1 class="text-center">Geoportal de <span>Torrent</span></h1>
							<p class="lead text-center">Ponemos a tu disposición todo lo referente a Información Geográfica. Servicios WMS, WFS, WCS y WMTS. Visualiza y descarga cartografía en formato SHP. Mejora Torrent registrándote y empezando a usar la app de denuncias.</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- banner end -->
		
		<!-- section start -->
		<!-- ================ -->
		<div class="section clearfix object-non-visible" data-animation-effect="fadeInRightBig">
			<div class="container">
				<div class="row">
					<div class="col-md-12">
						<h1 id="servicios" class="title text-center">Nuestros <span>Servicios</span></h1>
						<p class="lead text-center">Listado de nuestros servicios OGC</p>
						<div class="space"></div>
						<div class="row">
							<div class="col-md-6 text-center object-non-visible" data-animation-effect="tada">
								<i class="fa fa-cogs" style="font-size: 300px; color: #339BEB;"></i>
								<div class="space"></div>
							</div>
							<div class="col-md-6 object-non-visible" data-animation-effect="bounce">
								<p>Preguntas frecuentes</p>
								<ul class="list-unstyled">
									<li><i class="fa fa-caret-right pr-10 text-colored"></i>¿Qué es un servicio <a target="_blank" href="http://www.opengeospatial.org/standards/wms"><span>WMS</span></a>?</li>
									<li><i class="fa fa-caret-right pr-10 text-colored"></i>¿Qué es un servicio <a target="_blank" href="http://www.opengeospatial.org/standards/wfs"><span>WFS</span></a>?</li>
									<li><i class="fa fa-caret-right pr-10 text-colored"></i>¿Qué es un servicio <a target="_blank" href="http://www.opengeospatial.org/standards/wcs"><span>WCS</span></a>?</li>
									<li><i class="fa fa-caret-right pr-10 text-colored"></i>¿Qué es un servicio <a target="_blank" href="http://www.opengeospatial.org/standards/wmts"><span>WMS Teselado</span></a>?</li>
								</ul>
							</div>
						</div>
						<!-- <div class="space"></div>-->
						<h2>¿Qué te ofrecemos?</h2>
						<div class="row">
							<div class="col-md-6">
								<p>Desde el menú podrás acceder a los diferentes servicios web elaborados por el ayuntamiento de Torrent siguiendo los estándares aprobados por el <b>Open Geospatial Consortium (OGC)</b> para su uso en sistemas de información geográfica (SIG). Siguiendo estos estándares se intenta conseguir la integración y la interoperabilidad de grandes vólumenes de datos espacialmente referenciados (Información Geográfica).</p>
								<p>Si lo deseas también puedes hacer uso de nuestro <span><a href="/visor">visor online</a></span> o buscar los recursos de su interés accediendo al <a href="/linkCtalogoAqui">catálogo de servicios</a></span>.</p>
							</div>
							<div class="col-md-6">
								<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
									<div class="panel panel-default">
										<div class="panel-heading" role="tab" id="headingOne">
											<h4 class="panel-title">
												<a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
													Servicio WMS
												</a>
											</h4>
										</div>
										<div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
											<div class="panel-body" style="text-align: center;">
												<div class="btn-group-vertical col-lg-12">
													<button id="ir" type="button" class="btn btn-default col-lg-12" service_url="http://localhost:8080/geoserver/jahr/wms?service=WMS&request=GetCapabilities&version=1.3.0">Servicio</button>
													<button id="copy" service_url="http://localhost:8080/geoserver/jahr/wms?service=WMS&request=GetCapabilities&version=1.3.0" type="button" class="btn btn-default">Copiar url</button>
													<button id="capabilities" service_url="http://localhost:8080/geoserver/jahr/wms?service=WMS&request=GetCapabilities&version=1.3.0" service_name="Servicio WMS - GetCapabilities" type="button" class="btn btn-default">GetCapabilities</button>
												</div>
												<br>
												<p>Los servicios web de mapas <b>WMS (Web Map Service)</b> producen mapas (imágenes digitales georeferenciadas) a partir de datos georeferenciados.</p>
												<p>Contiene cartografía general de Torrent, ortofoto y cartografía temática de denuncias.</p>
											</div>
										</div>
									</div>
									<div class="panel panel-default">
										<div class="panel-heading" role="tab" id="headingTwo">
											<h4 class="panel-title">
												<a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
													Servicio WFS
												</a>
											</h4>
										</div>
										<div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
											<div class="panel-body" style="text-align: center;">
												<div class="btn-group-vertical col-lg-12">
													<button id="ir" type="button" class="btn btn-default col-lg-12" service_url="http://localhost:8080/geoserver/jahr/wms?service=WFS&request=GetCapabilities&version=1.3.0">Servicio</button>
													<button id="copy" service_url="http://localhost:8080/geoserver/jahr/wms?service=WFS&request=GetCapabilities&version=1.3.0" type="button" class="btn btn-default">Copiar url</button>
													<button id="capabilities" service_url="http://localhost:8080/geoserver/jahr/wms?service=WFS&request=GetCapabilities&version=1.3.0" service_name="Servicio WFS - GetCapabilities" type="button" class="btn btn-default">Get Capabilities</button>
												</div>
												<br>
												<p>Los servicios web de mapas <b>WMS (Web Map Service)</b> producen mapas (imágenes digitales georeferenciadas) a partir de datos georeferenciados.</p>
												<p>Contiene cartografía general de Torrent, ortofoto y cartografía temática de denuncias.</p>
											</div>
										</div>
									</div>
									<div class="panel panel-default">
										<div class="panel-heading" role="tab" id="headingThree">
											<h4 class="panel-title">
												<a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
													Servicio WCS
												</a>
											</h4>
										</div>
										<div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
											<div class="panel-body" style="text-align: center;">
												<div class="btn-group-vertical col-lg-12">
													<button id="ir" type="button" class="btn btn-default col-lg-12" service_url="http://localhost:8080/geoserver/jahr/wms?service=WCS&request=GetCapabilities&version=1.3.0">Servicio</button>
													<button id="copy" service_url="http://localhost:8080/geoserver/jahr/wms?service=WCS&request=GetCapabilities&version=1.3.0" type="button" class="btn btn-default">Copiar url</button>
													<button id="capabilities" service_url="http://localhost:8080/geoserver/jahr/wms?service=WCS&request=GetCapabilities&version=1.3.0" service_name="Servicio WCS - GetCapabilities" type="button" class="btn btn-default">Get Capabilities</button>
												</div>
												<p></p>
												<p>Los servicios web de mapas <b>WMS (Web Map Service)</b> producen mapas (imágenes digitales georeferenciadas) a partir de datos georeferenciados.</p>
												<p>Contiene cartografía general de Torrent, ortofoto y cartografía temática de denuncias.</p>
											</div>
										</div>
									</div>
									
									<div class="panel panel-default">
										<div class="panel-heading" role="tab" id="headingFour">
											<h4 class="panel-title">
												<a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
													Servicio WMS Teselado
												</a>
											</h4>
										</div>
										<div id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour">
											<div class="panel-body" style="text-align: center;">
												<div class="btn-group-vertical col-lg-12">
													<button id="ir" type="button" class="btn btn-default col-lg-12" service_url="http://localhost:8080/geoserver/gwc/service/wmts?request=GetCapabilities&service=WMTS&version=1.3.0">Servicio</button>
													<button id="copy" service_url="http://localhost:8080/geoserver/gwc/service/wmts?request=GetCapabilities&service=WMTS&version=1.3.0" type="button" class="btn btn-default">Copiar url</button>
													<button id="capabilities" service_url="http://localhost:8080/geoserver/gwc/service/wmts?request=GetCapabilities&service=WMTS&version=1.3.0" service_name="Servicio WMTS - GetCapabilities" type="button" class="btn btn-default">Get Capabilities</button>
												</div>
												<p></p>
												<p>Los servicios web de mapas <b>WMS (Web Map Service)</b> producen mapas (imágenes digitales georeferenciadas) a partir de datos georeferenciados.</p>
												<p>Contiene cartografía general de Torrent, ortofoto y cartografía temática de denuncias.</p>
											</div>
										</div>
									</div>
									
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- section end -->

<!-- Plugins Javascript situados al final de la página, así el contenido carga antes -->

<!-- JQuery y Bootstrap -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

<!-- Modernizr -->
<script type="text/javascript" src="/javascripts/plugins/modernizr.js"></script>

<!-- Jquery appear -->
<script type="text/javascript" src="/javascripts/plugins/jquery.appear.js"></script>

<!-- JS Principal -->
<script type="text/javascript" src="/javascripts/template.js"></script>

<!-- FitText.js  -->
<script type="text/javascript" src="/javascripts/plugins/jquery.fittext.js"></script>

<!-- Bootstrap Dialog JS (Nakupanda)  -->
<script type="text/javascript" src="/javascripts/plugins/bootstrap-dialog.js"></script>

<!-- Highlight JS -->
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>

<script type="text/javascript">

	var map = false;

	// FitText
	$("h1, h2").each(function(){
		var fontSize = $(this).css('font-size');
		console.log(fontSize);
		$(this).fitText(1.1, {maxFontSize: fontSize});
	});
	
	// GetCapabilities Dialog
	$('[id="capabilities"]').click(function(event){
		var serviceURL = $(this).attr('service_url');
		var serviceName = $(this).attr('service_name');
		
		
		BootstrapDialog.closeAll();
		
		BootstrapDialog.show({
			type: BootstrapDialog.TYPE_INFO,
			size: BootstrapDialog.SIZE_LARGE,
			title: serviceName,
			message: '<div style="text-align: center"><i class="fa fa-spinner fa-spin fa-5x" style="color: #339BEB"></i><p>Cargando...</p></div>',
			buttons: [{
			label: 'Cerrar',
			action: function(dialog){dialog.close();}}],
			onshown: function(dialog){
				$.get(serviceURL, function(res){
					
					var div = $('<div style="max-height: 400px; overflow-y: scroll;"></div>');
					var pre = $('<pre></pre>');
					var code = $('<code id="service_content" class="xml"></code>').text(
							new XMLSerializer().serializeToString(res)
					);
										
					pre.append(code);
					div.append(pre);
					
					$(dialog.getModalBody()).empty();
					$(dialog.getModalBody()).append(div);
					console.log('recibido');
					
					hljs.highlightBlock($(dialog.getModalBody().get(0)).find('code').get(0));
					
				})
				.fail(function(){
					BootstrapDialog.closeAll();
					
					new BootstrapDialog.show({
						title: 'ERROR',
						message: 'Error obteniendo documento de capacidades',
						type: BootstrapDialog.TYPE_DANGER,
						buttons: [{label: 'Cerrar',
								   action: function(dialog){dialog.close();}}
						],
						onshow: function(dialog){ $(dialog.getModalHeader()).css('background', 'rgb(200,50,50)')}
					});
				});
			}
		});  
	});
	
	// Copy Service URL
	$('[id="copy"]').click(function(event){
		var service_url = $(this).attr('service_url');
	    var $temp = $("<input>")
	    $("body").append($temp);
	    $temp.val(service_url).select();
	    document.execCommand("copy");
	    $temp.remove();
	    alert('copiado');
	});
	
	// Go to Service
	$('[id="ir"]').click(function(event){
		window.open($(this).attr('service_url'));
	});
	
</script>

</body>

</html>
